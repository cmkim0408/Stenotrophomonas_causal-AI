# ATPM=0일 때 성장 불가 문제 분석 및 해결 방안

## 문제 현상

**신규 모델에서 ATPM=0일 때**:
- 성장률: 0.000000
- 모든 플럭스: 0 (ICL=0, MALS=0, ICDHx=0, CS=0 등)
- Exchange 반응 플럭스: 0
- ATP 생성/소모 반응: 없음

**레퍼런스 모델에서 ATPM=0일 때** (fba_flux_gradient_acid.csv 기준):
- 성장률: 0.0
- 하지만 ICL=0.367, MALS=0.367 (경로는 작동)
- 즉, 경로는 활성화되어 있지만 성장률은 0

---

## 핵심 차이점

| 항목 | 레퍼런스 모델 | 신규 모델 |
|------|--------------|-----------|
| ATPM=0일 때 성장률 | 0.0 | 0.0 |
| ICL 플럭스 | 0.367 (활성) | 0.0 (비활성) |
| MALS 플럭스 | 0.367 (활성) | 0.0 (비활성) |
| 경로 작동 여부 | ✅ 작동 | ❌ 작동 안 함 |

**결론**: 신규 모델은 ATPM=0일 때 경로 자체가 작동하지 않음

---

## 가능한 원인

### 1. 미디어 설정 차이
- **확인**: 레퍼런스 미디어를 사용해도 동일한 문제 발생
- **결론**: 미디어 문제는 아님

### 2. 누락된 필수 반응
- **의심**: 앞서 확인한 114개 누락 반응 중 일부가 ATPM=0에서 필수일 수 있음
- **확인 필요**: 레퍼런스 모델에 있지만 신규 모델에 없는 반응들

### 3. 모델 구조적 차이
- **의심**: Biomass 반응 구성 차이
- **확인 필요**: Biomass 반응의 메타볼라이트 요구사항

### 4. 제약 조건 문제
- **의심**: 특정 반응의 bounds 설정 차이
- **확인 필요**: 주요 대사 경로 반응들의 bounds

### 5. 코팩터 초기화 문제
- **의심**: CoA, NADH, FAD 등 코팩터 초기화 문제
- **확인 필요**: 코팩터 생산 경로

---

## 해결 방안

### 방안 1: 누락된 필수 반응 추가
레퍼런스 모델에 있지만 신규 모델에 없는 114개 반응 중, ATPM=0에서 필수인 반응을 찾아 추가

**우선순위**:
- HIGH 우선순위 반응 (ACS_ADP, PEPCK_ATP, SUCDi)
- Glyoxylate shunt 관련 반응 (ICL, MALS - 이미 있지만 작동 안 함)

**확인 필요**: 
- ICL, MALS 반응이 모델에 있는지 확인
- 반응이 있지만 작동하지 않는 이유 확인

### 방안 2: 레퍼런스 모델의 실제 FBA 설정 확인
레퍼런스 모델의 fba_flux_gradient_acid.csv가 어떤 설정으로 생성되었는지 확인

**확인 사항**:
- 미디어 설정
- 추가 제약 조건
- Bootstrap seeds (코팩터 초기화)
- 특수 설정

### 방안 3: 단계적 진단
1. ATPM=0이 아닌 작은 값(예: 0.1)에서 테스트
2. 특정 코팩터를 공급했을 때 작동하는지 확인
3. Gap-filling 수행

### 방안 4: 레퍼런스 모델과 직접 비교
레퍼런스 모델과 신규 모델을 같은 조건에서 직접 비교하여 차이점 확인

---

## 다음 단계

1. **즉시 확인**:
   - ICL, MALS 반응이 모델에 실제로 존재하는지
   - 반응이 있지만 작동하지 않는 이유 (bounds, 연결성 등)

2. **단기 해결**:
   - ATPM을 작은 값(예: 0.1)으로 설정하여 테스트
   - 누락된 HIGH 우선순위 반응 추가 후 재테스트

3. **장기 해결**:
   - 레퍼런스 모델의 FBA 설정 상세 분석
   - 누락된 114개 반응 중 ATPM=0에서 필수인 반응 식별
   - 모델 구조적 차이 분석

---

## 참고

레퍼런스 모델도 ATPM=0일 때 성장률은 0이지만, 경로는 작동합니다 (ICL=0.367, MALS=0.367). 
신규 모델은 경로 자체가 작동하지 않는 것이 근본적인 차이입니다.
